---
layout: post
title: 使用现金流贴现法算算几家美国公司的绝对估值
date: 2018-06-22 14:00:00 +0800
categories: 金融
tags: 随笔
toc: true
comments: true
mathjax: true
---
绝对估值是关于企业内在价值的一种估算方法，其中**现金流贴现法（Discounted Cash Flow DCF）**是最经典的绝对估值法，它是基于企业自由现金流的计算公式。本文就采用这种方法算算几家比较著名公司的绝对估值。

<!-- more -->
# 获取财报
这是我第一次写金融相关的笔记，因此把中途遇到的基础问题都一一记录下来，首先就是怎么获取美国上市公司的财报。
来[美国证券交易委员会官网](https://www.sec.gov/)在EDGAR（Electronic Data Gathering, Analysis, and Retrieval System 即 电子化数据收集、分析及检索系统）搜索框中键入待查公司，比如`facebook`，可以搜到各类文件，它们的缩写和含义的对应关系为： 

<style>
table th:nth-of-type(1){
    width: 40%;
}
table th:nth-of-type(2){
    width: 60%;
}
</style>
文件格式|说明
:----:|---------------------
10-Q |季报
10-K |年报
F-1 |部分美国以外公司注册上市声明
Form D |规则D下的证券发行豁免注册公告
3 |首次持股声明
4 |持股变动声明
5 |持股变动年度报告
S-1 |注册上市声明
POS AM |招股信息更正说明
13D |股东单独或合并持有5%以上公司股份公告
144 |证券拟出售报告
20-F |美国以外上市公司的年度报告或过度报告
ARS |股东年报
6-K |美国以外上市公司的临时报告
8-K |季报发布期间的重要事件或公司变化临时报告
11-K |员工持股变动年度报告
DEF 14-A |股东委托书决议

# 自由现金流
自由现金流（Free Cash Flow，FCF）是指企业经营活动产生的现金流量扣除资本性支出(Capital Expenditures，CE）的差额。即：FCF=OCF-CE。  
Facebook的自由现金流在它的10-K年报中有直接的体现：

年份|自由现金流
----|----------------------------
2017| 17,483,000,000 
2016| 11,617,000,000 
2015| 6,076,000,000 
2014| 3,626,000,000 
2013| 2,849,000,000 
2012| 37,000,000 

在亚马逊的10-K年报中，2004年之后的财报是有自由现金流这个字段的，之前没有，需要自己计算。不过好在2004这一年的财报中包含了2001、2002、2003的自由现金流的计算过程：

<style>
table th:nth-of-type(1){
    width: 40%;
}
table th:nth-of-type(2){
    width: 20%;
}
table th:nth-of-type(3){
    width: 20%;
}
table th:nth-of-type(4){
    width: 20%;
}
</style>


 　| -2003年12月31 | -2002年12月31 | -2001年12月31
-------------------------|-----------------|----------------|----------------:
Net cash provided by(used in) operating activities | 392,022 | 174,291 | 119,782
Purchase of fixed assets, including internal-use software and Website development|45,936|39,163|50,321
Free cash flow|346,059|135,128|170,103

它是用运营的净收入减去购买固定资产的支出，不过2001年的数字很奇怪——它是将二者相加，难道是因为软件和网站开发还赚钱了？那也应该写上正负号吧？

# 现金流贴现法
现金流贴现法是计算出企业未来所有的的自由现金流求合，就等于对现在的估值。  
假设企业第0年的自由现金流为A，每年保持α的增长率，贴现率为β。（贴现率可以理解为投资的一般回报率，比如如果存定期，明年的100块钱，在今年值多少钱x，$\frac{100-x}{x}$就是贴现率）  
那么第1年它的自由现金流就为$A(1+α)$，折合到现在的现金为$\frac{A(1+α)}{1+β}$  
那么第2年它的自由现金流就为$A(1+α)^2$，折合到现在的现金为$\frac{A(1+α)^2}{(1+β)^2}$  
...
那么第n年它的自由现金流就为$A(1+α)^N$，折合到现在的现金为$\frac{A(1+α)^n}{(1+β)^n}$  
如果这家公司永远能保持α的速度发展，那么他当前的估值就等于每年自由现金折现到现在的总和：
$\frac{A(1+α)}{1+β} + \frac{A(1+α)^2}{(1+β)^2} + ... + \frac{A(1+α)^N}{(1+β)^N} = A×\frac{1-(\frac{1+α}{1+β}　)^N}{1-\frac{1+α}{1+β}}$  

但是通常一家公司很难保持长时间的高增长，所以我们给它估计一个短期增长率和一个长期增长率，短期增长率是在n年内保持α，长期增长率是在n+1年之后保持γ，于是在第n年前它折合当前现金流为
$A×\frac{1-(\frac{1+α}{1+β}　)^n}{1-\frac{1+α}{1+β}}=A×\frac{1+β}{β-α}×\frac{(1+β)^n - (1+α)^n}{(1+β)^n}$  
第n+1年后所有现金这和当前现金流为：$\frac{A(1+α)^n}{(1+β)^n}×\frac{1-(\frac{1+γ}{1+β}　)^N}{1-\frac{1+γ}{1+β}}$ （以第n年为起点的等比数列求合）  
如果γ＜β，则第n+1年后所有现金这和当前现金流为：$\frac{A(1+α)^n}{(1+β)^n}× \frac{1+β}{β-γ}$   

综上所述，该公司未来所有现金流折合当前价值为：$A×\frac{1+β}{β-α}×\frac{(1+β)^n - (1+α)^n}{(1+β)^n} + A×\frac{(1+α)^n}{(1+β)^n}× \frac{1+β}{β-γ}$  